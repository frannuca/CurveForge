cmake_minimum_required(VERSION 3.21)

# Spline test executable
add_executable(run_spline_tests
        interpolation/test_bspline.cpp
)

target_link_libraries(run_spline_tests
        PRIVATE
        CurveForge::interpolation
)

add_test(NAME run_spline_tests COMMAND run_spline_tests)
set_tests_properties(run_spline_tests PROPERTIES PASS_REGULAR_EXPRESSION "KNOTS_OK")

# Spline smoothing test
add_executable(run_spline_smoothing_tests
        interpolation/test_bspline_smoothing.cpp
)

target_link_libraries(run_spline_smoothing_tests
        PRIVATE
        CurveForge::interpolation
)

add_test(NAME run_spline_smoothing_tests COMMAND run_spline_smoothing_tests)
set_tests_properties(run_spline_smoothing_tests PROPERTIES PASS_REGULAR_EXPRESSION "SMOOTH_OK")


# time  test
add_executable(run_calendar_tests
        time/test_calendars.cpp
)

target_link_libraries(run_calendar_tests
        PRIVATE
        CurveForge::time
)

add_test(NAME run_calendar_tests COMMAND run_calendar_tests)
set_tests_properties(run_calendar_tests PROPERTIES PASS_REGULAR_EXPRESSION "CALENDAR_OK")


# Date modifier tests
add_executable(run_date_modifier_tests
        time/test_date_modifier.cpp
)

target_link_libraries(run_date_modifier_tests
        PRIVATE
        CurveForge::time
)

add_test(NAME run_date_modifier_tests COMMAND run_date_modifier_tests)
set_tests_properties(run_date_modifier_tests PROPERTIES PASS_REGULAR_EXPRESSION "CALENDAR_OK")


# Date modifier tests
add_executable(run_test_scheduler
        time/test_scheduler.cpp
)

target_link_libraries(run_test_scheduler
        PRIVATE
        CurveForge::time
)

add_test(NAME run_test_scheduler COMMAND run_test_scheduler)
set_tests_properties(run_test_scheduler PROPERTIES PASS_REGULAR_EXPRESSION "CALENDAR_OK")

